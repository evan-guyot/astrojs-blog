---
import BaseLayout from './BaseLayout.astro';

interface Props {
  frontmatter: {
    title: string;
    description: string;
    pubDate: Date;
    author: string;
    tags: string[];
    image?: {
      url: string;
      alt: string;
    };
  }
}

const { frontmatter } = Astro.props;
---
<BaseLayout pageTitle={frontmatter.title}>
  <div class="max-w-2xl mx-auto px-4 py-8">
    <article class="prose prose-gray dark:prose-invert max-w-none">
      <p class="italic text-lg mb-4">{frontmatter.description}</p>
      
      <div class="flex flex-col gap-2 mb-6 text-sm border-b pb-6">
        <p><span class="font-semibold">Published:</span> {frontmatter.pubDate.toLocaleDateString()}</p>
        <p><span class="font-semibold">Written by:</span> {frontmatter.author}</p>
      </div>

      {frontmatter.image?.url && (
        <img src={frontmatter.image.url} class="w-full max-w-md rounded-lg my-6 mx-auto" alt={frontmatter.image.alt} />
      )}

      <div class="flex flex-wrap gap-2 mb-8 justify-center">
        {frontmatter.tags.map((tag: string) => (
          <a href={`/tags/${tag}`} class="inline-block px-3 py-1 rounded-full border text-sm font-medium hover:underline transition-all">
            #{tag}
          </a>
        ))}
      </div>

      <div class="prose prose-gray dark:prose-invert max-w-none">
        <slot />
      </div>
    </article>
  </div>
</BaseLayout>